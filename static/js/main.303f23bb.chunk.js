(this["webpackJsonpnotes-app"]=this["webpackJsonpnotes-app"]||[]).push([[0],{16:function(e,t,n){e.exports={note:"styles_note__3m1zR",noteContent:"styles_noteContent__WXNot"}},20:function(e,t,n){e.exports={newNote:"styles_newNote__2aJvM"}},25:function(e,t,n){e.exports={notes:"styles_notes__3MIlw"}},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var s,a=n(1),c=n.n(a),o=n(19),i=n.n(o),l=n(4),r=n(6),d=n(9),u=n(0),j=Object(a.createContext)({}),b="notes",O=null!==(s=JSON.parse(localStorage.getItem(b)))&&void 0!==s?s:[],v=function(e){var t=e.children,n=Object(a.useState)(O),s=Object(d.a)(n,2),c=s[0],o=s[1],i=Object(a.useState)(void 0),l=Object(d.a)(i,2),r=l[0],v=l[1],f=Object(a.useState)("view"),x=Object(d.a)(f,2),p=x[0],m=x[1];return Object(a.useEffect)((function(){localStorage.setItem(b,JSON.stringify(c))}),[c]),Object(u.jsx)(j.Provider,{value:{notes:c,setNotes:o,notesDetailsId:r,setNotesDetailsId:v,modalMode:p,setModalMode:m},children:t})},f=function(){var e=Object(a.useContext)(j),t=e.notes,n=e.setNotes;return{getAllIds:Object(a.useCallback)((function(){return t.map((function(e){return e.id}))}),[t]),get:Object(a.useCallback)((function(e){return t.find((function(t){return t.id===e}))}),[t]),save:Object(a.useCallback)((function(e,s){n(t.map((function(t){return t.id===e?Object(r.a)(Object(r.a)({},t),{},{source:s}):t})))}),[t,n]),add:Object(a.useCallback)((function(e){var s,a,c=(null!==(s=null===(a=t[t.length-1])||void 0===a?void 0:a.id)&&void 0!==s?s:-1)+1;return n([].concat(Object(l.a)(t),[{id:c,source:e}])),c}),[t,n]),remove:Object(a.useCallback)((function(e){n(t.filter((function(t){return t.id!==e})))}),[t,n])}},x=function(){var e=Object(a.useContext)(j),t=e.notesDetailsId,n=e.setNotesDetailsId,s=e.setModalMode,c=e.modalMode;return{isModalOpen:Object(a.useMemo)((function(){return void 0!==t}),[t]),notesDetailsId:t,setNotesDetailsId:n,modalMode:c,setModalMode:s}},p=n(20),m=n.n(p),h=function(){var e=f().add,t=x(),n=t.setNotesDetailsId,s=t.setModalMode,c=Object(a.useCallback)((function(){var t=e("This is a note\n===========\n&nbsp;  \nSubtitle\n------------\n&nbsp;  \nShopping list:\n* apples\n* oranges\n* toilet paper\n");s("edit"),n(t)}),[e,s,n]);return Object(u.jsx)("div",{className:m.a.newNote,onClick:c,children:"+"})},N=n(14),M=n(16),_=n.n(M),g=function(e){var t=e.noteId,n=f().get,s=x(),c=s.setNotesDetailsId,o=s.setModalMode,i=Object(a.useMemo)((function(){return n(t)}),[n,t]),l=i.id,r=i.source,d=Object(a.useCallback)((function(){o("view"),c(l)}),[l,o,c]);return Object(u.jsx)("div",{className:_.a.note,onClick:d,children:Object(u.jsx)(N.a,{sourcePos:!0,className:_.a.noteContent,children:r})})},k=n(5),C=n.n(k),I=function(e){var t=e.value,n=e.setValue,s=Object(a.useCallback)((function(e){n(e.target.value)}),[n]);return Object(u.jsx)("textarea",{value:t,onChange:s,style:{width:"100%",height:"100%"}})},D=function(e){var t=e.value;return Object(u.jsx)(N.a,{children:t})},w=n.p+"static/media/back.6b1d965b.svg",y=function(){var e=x().setNotesDetailsId,t=Object(a.useCallback)((function(){e(void 0)}),[e]);return Object(u.jsx)("img",{src:w,alt:"Back action",className:C.a.action,title:"Back",onClick:t})},S=n.p+"static/media/save.563e3c29.svg",E=function(e){var t=e.value,n=f().save,s=x(),c=s.setModalMode,o=s.notesDetailsId,i=Object(a.useCallback)((function(){n(o,t),c("view")}),[o,n,c,t]);return Object(u.jsx)("img",{src:S,alt:"Save action",className:C.a.action,title:"Save",onClick:i})},J=n.p+"static/media/edit.f95b2ea7.svg",W=function(){var e=x().setModalMode,t=Object(a.useCallback)((function(){return e("edit")}),[e]);return Object(u.jsx)("img",{src:J,alt:"Edit action",className:C.a.action,title:"Edit",onClick:t})},R=n.p+"static/media/delete.832245fc.svg",B=function(){var e=x(),t=e.setNotesDetailsId,n=e.notesDetailsId,s=f().remove,c=Object(a.useCallback)((function(){s(n),t(void 0)}),[n,s,t]);return Object(u.jsx)("img",{src:R,alt:"Delete action",className:C.a.action,title:"Delete",onClick:c})},F=function(){var e=x().notesDetailsId,t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],c=n[1],o=f().get,i=x().modalMode;return Object(a.useEffect)((function(){var t=o(e);c(t.source)}),[o,e]),Object(u.jsx)("div",{className:C.a.noteDetailsWrapper,children:Object(u.jsxs)("div",{className:C.a.noteDetails,children:[Object(u.jsxs)("div",{className:C.a.actionsRow,children:[Object(u.jsx)(y,{}),"edit"===i?Object(u.jsx)(E,{value:s}):Object(u.jsx)(W,{}),Object(u.jsx)(B,{})]}),Object(u.jsx)("div",{className:C.a.details,children:"edit"===i?Object(u.jsx)(I,{value:s,setValue:c}):Object(u.jsx)(D,{value:s})})]})})},P=n(25),z=n.n(P),A=function(){var e=f().getAllIds,t=x().isModalOpen;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:z.a.notes,children:[Object(u.jsx)(h,{}),e().map((function(e){return Object(u.jsx)(g,{noteId:e},e)}))]}),t&&Object(u.jsx)(F,{})]})},T=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsx)("h1",{children:"Notes app"})}),Object(u.jsx)("main",{children:Object(u.jsx)(A,{})}),Object(u.jsx)("footer",{children:Object(u.jsx)("span",{children:"Made by: Matko Pi\u0161kor"})})]})};n(37);i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(v,{children:Object(u.jsx)(T,{})})}),document.getElementById("root"))},5:function(e,t,n){e.exports={noteDetailsWrapper:"styles_noteDetailsWrapper__1d47W",noteDetails:"styles_noteDetails__r2jZN",actionsRow:"styles_actionsRow__1cIxT",action:"styles_action__38z8F",details:"styles_details__pUmlY"}}},[[38,1,2]]]);
//# sourceMappingURL=main.303f23bb.chunk.js.map